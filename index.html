<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AgriOrganizer</title>

<style>
body {
  margin: 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #7FAE5D;
  font-family: Arial, Helvetica, sans-serif;
  color: #ffffff;
  text-align: center;
}

.container {
  max-width: 420px;
	padding-left: 24px;
	padding-right: 24px;
  position: relative;
}

h1 {
  margin-bottom: 6px;
  font-size: 2.5rem;
}

p {
  margin-bottom: 10px;
  font-size: 1rem;
  line-height: 1.5;
}

/* ---------- Language Switch ---------- */
.lang-switch {
  position: absolute;
  top: 10px;
  right: 10px;
  display: flex;
  gap: 6px;
}

.lang-switch img {
  width: 24px;
  height: 16px;
  cursor: pointer;
  opacity: 0.6;
}

.lang-switch img.active {
  opacity: 1;
  outline: 2px solid #fff;
}

/* ---------- Slideshow ---------- */
.slideshow {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  margin-top: 24px;
  min-height: 300px;
}

.timebar {
  position: absolute;
  top: 0;
  left: 0;
  height: 4px;
  width: 100%;
  background: rgba(255,255,255,0.3);
  z-index: 10;
}

.timebar-fill {
  height: 100%;
  background: #fff;
  transform-origin: left;
  transform: scaleX(0);
}

.slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 0.6s ease;
}

.slide.active {
  opacity: 1;
  position: relative;
}

.slide img {
  max-width: 100%;
  border-radius: 8px;
  margin-bottom: 10px;
}

.slide-text {
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  text-align: center;
}

.slide-nav {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 50%;
  z-index: 5;
}

.slide-nav.left { left: 0; }
.slide-nav.right { right: 0; }

.dots {
  display: flex;
  justify-content: center;
  gap: 6px;
  margin-top: 8px;
	margin-bottom: 8px;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(255,255,255,0.5);
}

.dot.active {
  background: #fff;
}

/* ---------- Buttons ---------- */
a.button.google {
	background-color: #ffffff;
	color: #7FAE5D;
	text-decoration: none;
}

a.button:hover {
	opacity: 0.9;
}

a.button.apple {
	background-color: #cccccc;
	color: #666666;
	pointer-events: none;
}

.store-buttons img {
  width: 200px;
  display: block;
  margin: auto;
}

.coming-soon {
  margin-top: 0;
  font-size: 0.85rem;
}

.footer a {
  color: #fff;
  text-decoration: underline;
  font-size: 0.9rem;
}
</style>
</head>

<body>

<div class="container">

  <!-- Language Switch -->
  <div class="lang-switch">
    <img src="https://flagcdn.com/w20/gb.png" id="lang-en">
    <img src="https://flagcdn.com/w20/de.png" id="lang-de">
  </div>

  <h1>AgriOrganizer</h1>

  <div class="slideshow" id="slideshow">
    <div class="timebar">
      <div class="timebar-fill" id="timebar"></div>
    </div>

    <div class="slide-nav left" id="prev"></div>
    <div class="slide-nav right" id="next"></div>

    <div class="slide active">
      <img src="startpicture1.png">
      <div class="slide-text" data-i18n="s0"></div>
    </div>

    <div class="slide">
      <img src="slide1.png">
      <div class="slide-text" data-i18n="s1"></div>
    </div>
		
		<div class="slide">
      <img src="slide2.png">
      <div class="slide-text" data-i18n="s2"></div>
    </div>
		
		<div class="slide">
      <img src="slide3.png">
      <div class="slide-text" data-i18n="s3"></div>
    </div>
  </div>

  <div class="dots" id="dots"></div>

  <div class="store-buttons">
	  <!-- Google Play Badge -->
	  <a class="button google" href="https://play.google.com/store/apps/details?id=com.ironsofttech.agriorganizer" target="_blank">
		<img src="https://play.google.com/intl/en_us/badges/static/images/badges/de_badge_web_generic.png" alt="Google Play Store">
	  </a>
	  <!-- Apple App Store Badge (ausgegraut) -->
	  <a class="button apple">
		<img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="Apple App Store">
	  </a>
    <p class="coming-soon" data-i18n="soon"></p>
  </div>

  <div class="footer">
    <p><a href="legalInformations.html" data-i18n="privacy"></a></p>
  </div>

</div>

<script>
/* ---------- Language ---------- */
const texts = {
  en: {
    s0: "Organizes cooperation with contractors and neighbors.",
    s1: "Create calendars for machines and resources.",
    s2: "Create offers for the general public, friends or specific groups of people and publish them online.",
    s3: "Search for offers, check their availability and send a booking request immediately.",
    soon: "*coming soon",
    privacy: "Privacy Policy"
  },
  de: {
    s0: "Organisiert die Zusammenarbeit mit Lohnunternehmen und Nachbarn.",
    s1: "Erstelle Kalender für Maschinen und Ressourcen.",
	s2: "Erstelle Angebote für die Öffentlichkeit, Freunde oder spezifische Personenkreise und stelle sie Online.",
	s3: "Suche nach Angebote, überpüfe deren Verfügbarkeit und schicke sofort eine Buchungsanfrage.",
    soon: "*demnächst verfügbar",
    privacy: "Datenschutzerklärung"
  }
};

let lang = localStorage.getItem("lang") || "en";

function setLang(l) {
  document.querySelectorAll("[data-i18n]").forEach(el =>
    el.textContent = texts[l][el.dataset.i18n]
  );
  document.getElementById("lang-en").classList.toggle("active", l === "en");
  document.getElementById("lang-de").classList.toggle("active", l === "de");
  localStorage.setItem("lang", l);
}

document.getElementById("lang-en").onclick = () => setLang("en");
document.getElementById("lang-de").onclick = () => setLang("de");
setLang(lang);

/* ---------- Slideshow ---------- */
const slides = document.querySelectorAll(".slide");
const dotsContainer = document.getElementById("dots");
const timebar = document.getElementById("timebar");

const DURATION = 6000;
const LONG_PRESS = 400;

let index = 0;
let timer;
let startTime;
let paused = false;
let progress = 0;
let pressTimer;
let longPress = false;

/* Dots */
slides.forEach((_, i) => {
  const d = document.createElement("div");
  d.className = "dot" + (i === 0 ? " active" : "");
  dotsContainer.appendChild(d);
});
const dots = dotsContainer.children;

function showSlide(i) {
  slides[index].classList.remove("active");
  dots[index].classList.remove("active");
  index = (i + slides.length) % slides.length;
  slides[index].classList.add("active");
  dots[index].classList.add("active");
  startTimer();
}

/* ---------- Timer ---------- */
function startTimer() {
  clearTimeout(timer);
  progress = 0;
  timebar.style.transition = "none";
  timebar.style.transform = "scaleX(0)";
  requestAnimationFrame(() => {
    timebar.style.transition = `transform ${DURATION}ms linear`;
    timebar.style.transform = "scaleX(1)";
  });
  startTime = Date.now();
  timer = setTimeout(() => showSlide(index + 1), DURATION);
}

function pauseTimer() {
  if (paused) return;
  paused = true;
  clearTimeout(timer);

  const elapsed = Date.now() - startTime;
  progress += elapsed / DURATION;

  timebar.style.transition = "none";
  timebar.style.transform = `scaleX(${progress})`;
}

function resumeTimer() {
  if (!paused) return;
  paused = false;

  const remaining = (1 - progress) * DURATION;
  timebar.style.transition = `transform ${remaining}ms linear`;
  timebar.style.transform = "scaleX(1)";

  startTime = Date.now();
  timer = setTimeout(() => showSlide(index + 1), remaining);
}

/* ---------- Click / Longpress ---------- */
function pressStart() {
  longPress = false;
  pressTimer = setTimeout(() => {
    longPress = true;
    pauseTimer();
  }, LONG_PRESS);
}

function pressEnd(dir) {
  clearTimeout(pressTimer);
  if (longPress) {
    resumeTimer();
  } else {
    showSlide(index + dir);
  }
}

document.getElementById("prev").onmousedown = pressStart;
document.getElementById("prev").onmouseup = () => pressEnd(-1);
document.getElementById("next").onmousedown = pressStart;
document.getElementById("next").onmouseup = () => pressEnd(1);

/* Start */
startTimer();
</script>

</body>
</html>

